# Split #15
## Unseen combinations of grammar rules
(if an example contains all rules of any of these sets, it will be a test example)

**Combination 1**
* ref_attr -> 'query_attr' '[' attr_name ']' '(' some_ref ')'
* query_or_count_answer -> query_or_count

**Combination 2**
* ref_attr -> 'query_attr' '[' attr_name ']' '(' some_ref ')'
* query_or_count_answer -> 'choose' '(' query_or_count ',' attr_value_or_number ',' attr_value_or_number ')'

## Training examples by seen grammar rules
(training examples which contain each of these grammar rules separately)
#### âš« query_or_count_answer -> 'choose' '(' query_or_count ',' attr_value_or_number ',' attr_value_or_number ')' âš«
**Is the number of animal that is playing with mouse 2 or 4 ?**
 ```
choose (count (with_relation (find (animal), playing with, find (mouse))), 2, 4)
```
**Is the number of black square cat that is chasing dog that is looking at dog 3 or 2 ?**
 ```
choose (count (with_relation (filter (black, filter (square, find (cat))), chasing, with_relation (find (dog), looking at, find (dog)))), 3, 2)
```
**Is the number of square dog that is chasing gray dog 4 or 2 ?**
 ```
choose (count (with_relation (filter (square, find (dog)), chasing, filter (gray, find (dog)))), 4, 2)
```
**Is the number of black square cat that is chasing dog that is looking at dog 3 or 2 ?**
 ```
choose (count (with_relation (filter (black, filter (square, find (cat))), chasing, with_relation (find (dog), looking at, find (dog)))), 3, 2)
```
#### âš« ref_attr -> 'query_attr' '[' attr_name ']' '(' some_ref ')' âš«
**Both the shape of animal that is looking at mouse that is looking at square gray animal is equal to the shape of mouse and the number of gray mouse is equal to the number of mouse that is looking at dog that is chasing dog**
 ```
and (eq (query_attr [shape] (with_relation (find (animal), looking at, with_relation (find (mouse), looking at, filter (square, filter (gray, find (animal)))))), query_attr [shape] (find (mouse))), eq (count (filter (gray, find (mouse))), count (with_relation (find (mouse), looking at, with_relation (find (dog), chasing, find (dog))))))
```
**The color of square dog is equal to the shape of mouse that is chasing dog**
 ```
eq (query_attr [color] (filter (square, find (dog))), query_attr [shape] (with_relation (find (mouse), chasing, find (dog))))
```
**Both the color of dog that is playing with cat that is chasing mouse is equal to square and the number of triangle triangle animal is less than 3**
 ```
and (eq (query_attr [color] (with_relation (find (dog), playing with, with_relation (find (cat), chasing, find (mouse)))), square), lt (count (filter (triangle, filter (triangle, find (animal)))), 3))
```
**Both the shape of animal that is looking at mouse that is looking at square gray animal is equal to the shape of mouse and the number of gray mouse is equal to the number of mouse that is looking at dog that is chasing dog**
 ```
and (eq (query_attr [shape] (with_relation (find (animal), looking at, with_relation (find (mouse), looking at, filter (square, filter (gray, find (animal)))))), query_attr [shape] (find (mouse))), eq (count (filter (gray, find (mouse))), count (with_relation (find (mouse), looking at, with_relation (find (dog), chasing, find (dog))))))
```
#### âš« query_or_count_answer -> query_or_count âš«
**What is the number of gray triangle dog that is looking at brown round mouse that is chasing black triangle dog ?**
 ```
count (with_relation (filter (gray, filter (triangle, find (dog))), looking at, with_relation (filter (brown, filter (round, find (mouse))), chasing, filter (black, filter (triangle, find (dog))))))
```
**What is the number of gray triangle dog that is looking at brown round mouse that is chasing black triangle dog ?**
 ```
count (with_relation (filter (gray, filter (triangle, find (dog))), looking at, with_relation (filter (brown, filter (round, find (mouse))), chasing, filter (black, filter (triangle, find (dog))))))
```
**What is the number of gray triangle dog that is looking at brown round mouse that is chasing black triangle dog ?**
 ```
count (with_relation (filter (gray, filter (triangle, find (dog))), looking at, with_relation (filter (brown, filter (round, find (mouse))), chasing, filter (black, filter (triangle, find (dog))))))
```
**What is the number of gray triangle dog that is looking at brown round mouse that is chasing black triangle dog ?**
 ```
count (with_relation (filter (gray, filter (triangle, find (dog))), looking at, with_relation (filter (brown, filter (round, find (mouse))), chasing, filter (black, filter (triangle, find (dog))))))
```
## Sample of test examples
**What is the color of black animal that is chasing cat that is chasing gray mouse ?**
 ```
       Gold: query_attr [color] (with_relation (filter (black, find (animal)), chasing, with_relation (find (cat), chasing, filter (gray, find (mouse)))))
ðŸ”´   BART: count (with_relation (filter (black, find (animal)), chasing, with_relation (find (cat), chasing, filter (gray, find (mouse)))))
ðŸ”´ BART-L: count (with_relation (filter (black, find (animal)), chasing, with_relation (find (cat), chasing, filter (gray, find (mouse)))))
ðŸ”´     T5: count (with_relation (filter (black, find (animal)), chasing, with_relation (find (cat), chasing, filter (gray, find (mouse)))))
ðŸ”´   T5-L: choose (query_attr [color] (with_relation (filter (black, find (animal)), chasing, with_relation (find (cat), chasing, filter (gray, find (mouse)))))

```
**Is the color of cat that is chasing round gray cat brown or black ?**
 ```
       Gold: choose (query_attr [color] (with_relation (find (cat), chasing, filter (round, filter (gray, find (cat))))), brown, black)
ðŸŸ¢   BART: choose (query_attr [color] (with_relation (find (cat), chasing, filter (round, filter (gray, find (cat))))), brown, black)
ðŸ”´ BART-L: choose (query_attr [color] (with_relation (find (cat), chasing, filter (round, filter (gray, find (cat))))), black)
ðŸŸ¢     T5: choose (query_attr [color] (with_relation (find (cat), chasing, filter (round, filter (gray, find (cat))))), brown, black)
ðŸŸ¢   T5-L: choose (query_attr [color] (with_relation (find (cat), chasing, filter (round, filter (gray, find (cat))))), brown, black)

```
**Is the shape of animal that is looking at animal that is chasing cat triangle or gray ?**
 ```
       Gold: choose (query_attr [shape] (with_relation (find (animal), looking at, with_relation (find (animal), chasing, find (cat)))), triangle, gray)
ðŸŸ¢   BART: choose (query_attr [shape] (with_relation (find (animal), looking at, with_relation (find (animal), chasing, find (cat)))), triangle, gray)
ðŸ”´ BART-L: choose (query_attr [shape] (with_relation (find (animal), looking at, with_relation (find (animal), chasing, find (cat)))), gray)
ðŸŸ¢     T5: choose (query_attr [shape] (with_relation (find (animal), looking at, with_relation (find (animal), chasing, find (cat)))), triangle, gray)
ðŸŸ¢   T5-L: choose (query_attr [shape] (with_relation (find (animal), looking at, with_relation (find (animal), chasing, find (cat)))), triangle, gray)

```
**What is the shape of brown mouse that is playing with gray mouse that is looking at mouse ?**
 ```
       Gold: query_attr [shape] (with_relation (filter (brown, find (mouse)), playing with, with_relation (filter (gray, find (mouse)), looking at, find (mouse))))
ðŸ”´   BART: count (with_relation (filter (brown, find (mouse)), playing with, with_relation (filter (gray, find (mouse)), looking at, find (mouse))))
ðŸ”´ BART-L: count (with_relation (filter (brown, find (mouse)), playing with, with_relation (filter (gray, find (mouse)), looking at, find (mouse))))
ðŸ”´     T5: count (with_relation (filter (brown, find (mouse)), playing with, with_relation (filter (gray, find (mouse)), looking at, find (mouse))))
ðŸ”´   T5-L: answer (query_attr [shape] (with_relation (filter (brown, find (mouse)), playing with, with_relation (filter (gray, find (mouse)), looking at, find (mouse))))

```
**Is the color of square round cat triangle or brown ?**
 ```
       Gold: choose (query_attr [color] (filter (square, filter (round, find (cat)))), triangle, brown)
ðŸ”´   BART: choose (query_attr [color] (filter (square, filter (round, find (cat)))), brown)
ðŸ”´ BART-L: choose (query_attr [color] (filter (square, filter (round, find (cat)))), brown)
ðŸ”´     T5: choose (query_attr [color] (filter (square, filter (round, find (cat)))), filter (brown, scene ()))
ðŸŸ¢   T5-L: choose (query_attr [color] (filter (square, filter (round, find (cat)))), triangle, brown)

```
**Is the shape of brown cat square or square ?**
 ```
       Gold: choose (query_attr [shape] (filter (brown, find (cat))), square, square)
ðŸŸ¢   BART: choose (query_attr [shape] (filter (brown, find (cat))), square, square)
ðŸ”´ BART-L: choose (query_attr [shape] (filter (brown, find (cat))), square)
ðŸŸ¢     T5: choose (query_attr [shape] (filter (brown, find (cat))), square, square)
ðŸŸ¢   T5-L: choose (query_attr [shape] (filter (brown, find (cat))), square, square)

```
**Is the color of white round mouse triangle or gray ?**
 ```
       Gold: choose (query_attr [color] (filter (white, filter (round, find (mouse)))), triangle, gray)
ðŸ”´   BART: choose (query_attr [color] (filter (white, filter (round, find (mouse)))), gray)
ðŸ”´ BART-L: choose (query_attr [color] (filter (white, filter (round, find (mouse)))), gray)
ðŸ”´     T5: choose (query_attr [color] (filter (white, filter (round, find (mouse)))), filter (gray, scene ()))
ðŸ”´   T5-L: choose (query_attr [color] (filter (white, filter (round, find (mouse))), triangle, filter (gray, scene ())))

```
**Is the color of round cat brown or square ?**
 ```
       Gold: choose (query_attr [color] (filter (round, find (cat))), brown, square)
ðŸŸ¢   BART: choose (query_attr [color] (filter (round, find (cat))), brown, square)
ðŸ”´ BART-L: choose (query_attr [color] (filter (round, find (cat))), square)
ðŸŸ¢     T5: choose (query_attr [color] (filter (round, find (cat))), brown, square)
ðŸŸ¢   T5-L: choose (query_attr [color] (filter (round, find (cat))), brown, square)

```
**Is the color of cat triangle or triangle ?**
 ```
       Gold: choose (query_attr [color] (find (cat)), triangle, triangle)
ðŸ”´   BART: choose (query_attr [color] (find (cat)), triangle, triangle))
ðŸ”´ BART-L: choose (query_attr [color] (find (cat)), triangle)
ðŸŸ¢     T5: choose (query_attr [color] (find (cat)), triangle, triangle)
ðŸŸ¢   T5-L: choose (query_attr [color] (find (cat)), triangle, triangle)

```
**Is the color of triangle cat that is playing with triangle dog round or brown ?**
 ```
       Gold: choose (query_attr [color] (with_relation (filter (triangle, find (cat)), playing with, filter (triangle, find (dog)))), round, brown)
ðŸŸ¢   BART: choose (query_attr [color] (with_relation (filter (triangle, find (cat)), playing with, filter (triangle, find (dog)))), round, brown)
ðŸ”´ BART-L: choose (query_attr [color] (with_relation (filter (triangle, find (cat)), playing with, filter (triangle, find (dog)))), brown)
ðŸŸ¢     T5: choose (query_attr [color] (with_relation (filter (triangle, find (cat)), playing with, filter (triangle, find (dog)))), round, brown)
ðŸŸ¢   T5-L: choose (query_attr [color] (with_relation (filter (triangle, find (cat)), playing with, filter (triangle, find (dog)))), round, brown)

```
**Is the shape of square round cat round or white ?**
 ```
       Gold: choose (query_attr [shape] (filter (square, filter (round, find (cat)))), round, white)
ðŸŸ¢   BART: choose (query_attr [shape] (filter (square, filter (round, find (cat)))), round, white)
ðŸ”´ BART-L: choose (query_attr [shape] (filter (square, filter (round, find (cat)))), white)
ðŸŸ¢     T5: choose (query_attr [shape] (filter (square, filter (round, find (cat)))), round, white)
ðŸŸ¢   T5-L: choose (query_attr [shape] (filter (square, filter (round, find (cat)))), round, white)

```
**What is the color of mouse that is playing with square animal that is chasing dog ?**
 ```
       Gold: query_attr [color] (with_relation (find (mouse), playing with, with_relation (filter (square, find (animal)), chasing, find (dog))))
ðŸ”´   BART: count (with_relation (find (mouse), playing with, with_relation (filter (square, find (animal)), chasing, find (dog))))
ðŸ”´ BART-L: count (with_relation (find (mouse), playing with, with_relation (filter (square, find (animal)), chasing, find (dog))))
ðŸ”´     T5: count (with_relation (find (mouse), playing with, with_relation (filter (square, find (animal)), chasing, find (dog))))
ðŸ”´   T5-L: choose (query_attr [color] (with_relation (find (mouse), playing with, with_relation (filter (square, find (animal)), chasing, find (dog))))

```
**What is the color of square cat that is playing with mouse that is chasing animal ?**
 ```
       Gold: query_attr [color] (with_relation (filter (square, find (cat)), playing with, with_relation (find (mouse), chasing, find (animal))))
ðŸ”´   BART: count (with_relation (filter (square, find (cat)), playing with, with_relation (find (mouse), chasing, find (animal))))
ðŸ”´ BART-L: count (with_relation (filter (square, find (cat)), playing with, with_relation (find (mouse), chasing, find (animal))))
ðŸ”´     T5: count (with_relation (filter (square, find (cat)), playing with, with_relation (find (mouse), chasing, find (animal))))
ðŸ”´   T5-L: choose (query_attr [color] (with_relation (filter (square, find (cat)), playing with, with_relation (find (mouse), chasing, find (animal))))

```
**Is the color of brown square animal white or square ?**
 ```
       Gold: choose (query_attr [color] (filter (brown, filter (square, find (animal)))), white, square)
ðŸŸ¢   BART: choose (query_attr [color] (filter (brown, filter (square, find (animal)))), white, square)
ðŸŸ¢ BART-L: choose (query_attr [color] (filter (brown, filter (square, find (animal)))), white, square)
ðŸŸ¢     T5: choose (query_attr [color] (filter (brown, filter (square, find (animal)))), white, square)
ðŸŸ¢   T5-L: choose (query_attr [color] (filter (brown, filter (square, find (animal)))), white, square)

```
**Is the shape of gray animal that is playing with dog that is playing with gray round animal brown or gray ?**
 ```
       Gold: choose (query_attr [shape] (with_relation (filter (gray, find (animal)), playing with, with_relation (find (dog), playing with, filter (gray, filter (round, find (animal)))))), brown, gray)
ðŸŸ¢   BART: choose (query_attr [shape] (with_relation (filter (gray, find (animal)), playing with, with_relation (find (dog), playing with, filter (gray, filter (round, find (animal)))))), brown, gray)
ðŸ”´ BART-L: choose (query_attr [shape] (with_relation (filter (gray, find (animal)), playing with, with_relation (find (dog), playing with, filter (gray, filter (round, find (animal)))))), gray)
ðŸŸ¢     T5: choose (query_attr [shape] (with_relation (filter (gray, find (animal)), playing with, with_relation (find (dog), playing with, filter (gray, filter (round, find (animal)))))), brown, gray)
ðŸ”´   T5-L: choose (query_attr [shape] (with_relation (filter (gray, find (animal)), playing with, with_relation (find (dog), playing with, filter (gray, filter (round, find (animal))))), brown, filter (gray, scene ())))

```
**Is the shape of gray gray animal that is playing with white round animal that is playing with animal black or square ?**
 ```
       Gold: choose (query_attr [shape] (with_relation (filter (gray, filter (gray, find (animal))), playing with, with_relation (filter (white, filter (round, find (animal))), playing with, find (animal)))), black, square)
ðŸ”´   BART: choose (query_attr [shape] (with_relation (filter (gray, filter (gray, find (animal))), playing with, with_relation (filter (white, filter (round, find (animal))), playing with, find (animal)))), filter (black, square))
ðŸŸ¢ BART-L: choose (query_attr [shape] (with_relation (filter (gray, filter (gray, find (animal))), playing with, with_relation (filter (white, filter (round, find (animal))), playing with, find (animal)))), black, square)
ðŸ”´     T5: choose (query_attr [shape] (with_relation (filter (gray, filter (gray, find (animal))), playing with, with_relation (filter (white, filter (round, find (animal))), playing with, find (animal))), filter (black, square)))
ðŸ”´   T5-L: choose (query_attr [shape] (with_relation (filter (gray, filter (gray, find (animal))), playing with, with_relation (filter (white, filter (round, find (animal))), playing with, filter (black, find (animal))))), square)

```
**Is the shape of animal that is chasing black mouse that is looking at mouse round or triangle ?**
 ```
       Gold: choose (query_attr [shape] (with_relation (find (animal), chasing, with_relation (filter (black, find (mouse)), looking at, find (mouse)))), round, triangle)
ðŸ”´   BART: choose (query_attr [shape] (with_relation (find (animal), chasing, with_relation (filter (black, find (mouse)), looking at, find (mouse)))), filter (round, triangle))
ðŸŸ¢ BART-L: choose (query_attr [shape] (with_relation (find (animal), chasing, with_relation (filter (black, find (mouse)), looking at, find (mouse)))), round, triangle)
ðŸŸ¢     T5: choose (query_attr [shape] (with_relation (find (animal), chasing, with_relation (filter (black, find (mouse)), looking at, find (mouse)))), round, triangle)
ðŸŸ¢   T5-L: choose (query_attr [shape] (with_relation (find (animal), chasing, with_relation (filter (black, find (mouse)), looking at, find (mouse)))), round, triangle)

```
**Is the shape of cat that is looking at animal brown or black ?**
 ```
       Gold: choose (query_attr [shape] (with_relation (find (cat), looking at, find (animal))), brown, black)
ðŸ”´   BART: choose (query_attr [shape] (with_relation (find (cat), looking at, find (animal))), filter (brown, black))
ðŸŸ¢ BART-L: choose (query_attr [shape] (with_relation (find (cat), looking at, find (animal))), brown, black)
ðŸŸ¢     T5: choose (query_attr [shape] (with_relation (find (cat), looking at, find (animal))), brown, black)
ðŸŸ¢   T5-L: choose (query_attr [shape] (with_relation (find (cat), looking at, find (animal))), brown, black)

```
**Is the color of square dog that is chasing dog that is playing with cat square or white ?**
 ```
       Gold: choose (query_attr [color] (with_relation (filter (square, find (dog)), chasing, with_relation (find (dog), playing with, find (cat)))), square, white)
ðŸ”´   BART: choose (query_attr [color] (with_relation (filter (square, find (dog)), chasing, with_relation (find (dog), playing with, find (cat)))), filter (square, white))
ðŸ”´ BART-L: choose (query_attr [color] (with_relation (filter (square, find (dog)), chasing, with_relation (find (dog), playing with, find (cat)))), white)
ðŸŸ¢     T5: choose (query_attr [color] (with_relation (filter (square, find (dog)), chasing, with_relation (find (dog), playing with, find (cat)))), square, white)
ðŸ”´   T5-L: choose (query_attr [color] (with_relation (filter (square, find (dog)), chasing, with_relation (find (dog), playing with, filter (square, find (cat))))), white, scene ())

```
**Is the color of black white cat that is playing with animal that is looking at round gray mouse white or black ?**
 ```
       Gold: choose (query_attr [color] (with_relation (filter (black, filter (white, find (cat))), playing with, with_relation (find (animal), looking at, filter (round, filter (gray, find (mouse)))))), white, black)
ðŸŸ¢   BART: choose (query_attr [color] (with_relation (filter (black, filter (white, find (cat))), playing with, with_relation (find (animal), looking at, filter (round, filter (gray, find (mouse)))))), white, black)
ðŸ”´ BART-L: choose (query_attr [color] (with_relation (filter (black, filter (white, find (cat))), playing with, with_relation (find (animal), looking at, filter (round, filter (gray, find (mouse)))))), black)
ðŸŸ¢     T5: choose (query_attr [color] (with_relation (filter (black, filter (white, find (cat))), playing with, with_relation (find (animal), looking at, filter (round, filter (gray, find (mouse)))))), white, black)
ðŸŸ¢   T5-L: choose (query_attr [color] (with_relation (filter (black, filter (white, find (cat))), playing with, with_relation (find (animal), looking at, filter (round, filter (gray, find (mouse)))))), white, black)

```
**What is the color of white brown animal that is playing with mouse ?**
 ```
       Gold: query_attr [color] (with_relation (filter (white, filter (brown, find (animal))), playing with, find (mouse)))
ðŸ”´   BART: count (with_relation (filter (white, filter (brown, find (animal))), playing with, find (mouse)))
ðŸ”´ BART-L: count (with_relation (filter (white, filter (brown, find (animal))), playing with, find (mouse)))
ðŸ”´     T5: count (with_relation (filter (white, filter (brown, find (animal))), playing with, find (mouse)))
ðŸ”´   T5-L: choose (query_attr [color] (with_relation (filter (white, filter (brown, find (animal))), playing with, find (mouse)))

```
**Is the shape of dog that is looking at gray black animal that is playing with animal triangle or white ?**
 ```
       Gold: choose (query_attr [shape] (with_relation (find (dog), looking at, with_relation (filter (gray, filter (black, find (animal))), playing with, find (animal)))), triangle, white)
ðŸ”´   BART: choose (query_attr [shape] (with_relation (find (dog), looking at, with_relation (filter (gray, filter (black, find (animal))), playing with, find (animal)))), triangle, white))
ðŸŸ¢ BART-L: choose (query_attr [shape] (with_relation (find (dog), looking at, with_relation (filter (gray, filter (black, find (animal))), playing with, find (animal)))), triangle, white)
ðŸ”´     T5: choose (query_attr [shape] (with_relation (find (dog), looking at, with_relation (filter (gray, filter (black, find (animal))), playing with, find (animal)))), filter (triangle, scene ()))
ðŸ”´   T5-L: choose (query_attr [shape] (with_relation (find (dog), looking at, with_relation (filter (gray, filter (black, find (animal))), playing with, filter (triangle, find (animal))))), white, scene ())

```
**What is the color of gray mouse that is chasing black dog ?**
 ```
       Gold: query_attr [color] (with_relation (filter (gray, find (mouse)), chasing, filter (black, find (dog))))
ðŸ”´   BART: count (with_relation (filter (gray, find (mouse)), chasing, filter (black, find (dog))))
ðŸ”´ BART-L: count (with_relation (filter (gray, find (mouse)), chasing, filter (black, find (dog))))
ðŸ”´     T5: count (with_relation (filter (gray, find (mouse)), chasing, filter (black, find (dog))))
ðŸ”´   T5-L: choose (query_attr [color] (with_relation (filter (gray, find (mouse)), chasing, filter (black, find (dog))))

```
**What is the shape of round animal that is chasing cat that is playing with dog ?**
 ```
       Gold: query_attr [shape] (with_relation (filter (round, find (animal)), chasing, with_relation (find (cat), playing with, find (dog))))
ðŸ”´   BART: count (with_relation (filter (round, find (animal)), chasing, with_relation (find (cat), playing with, find (dog))))
ðŸ”´ BART-L: count (with_relation (filter (round, find (animal)), chasing, with_relation (find (cat), playing with, find (dog))))
ðŸ”´     T5: count (with_relation (filter (round, find (animal)), chasing, with_relation (find (cat), playing with, find (dog))))
ðŸ”´   T5-L: answer (query_attr [shape] (with_relation (filter (round, find (animal)), chasing, with_relation (find (cat), playing with, find (dog))))

```
**Is the color of round square animal round or black ?**
 ```
       Gold: choose (query_attr [color] (filter (round, filter (square, find (animal)))), round, black)
ðŸŸ¢   BART: choose (query_attr [color] (filter (round, filter (square, find (animal)))), round, black)
ðŸŸ¢ BART-L: choose (query_attr [color] (filter (round, filter (square, find (animal)))), round, black)
ðŸ”´     T5: choose (query_attr [color] (filter (round, filter (square, find (animal)))), filter (black, scene ()))
ðŸŸ¢   T5-L: choose (query_attr [color] (filter (round, filter (square, find (animal)))), round, black)

```